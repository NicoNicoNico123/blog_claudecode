{
  "name": "YouTube to Blog Pipeline - Multi-Agent Workflow (Corrected)",
  "nodes": [
    {
      "parameters": {
        "content": "=======================================\n        YOUTUBE TO BLOG CONTENT PIPELINE\n=======================================\nTransforming Traditional Chinese Financial Education Videos â†’ SEO Blog Posts\n\nğŸ¯ Purpose: Automated extraction of äºåº­çš“'s financial content + AI blog creation\n\nğŸ“Š Agents & Responsibilities:\n\n1. ğŸ¤ CCO Agent (Master Orchestrator)\n   - Strategic oversight of whole pipeline\n   - Task delegation & quality control\n   - Model: GPT-4o\n\n2. ğŸ“ Transcript Extractor Agent\n   - Video extraction via YouTube API\n   - Database storage management\n   - Model: GPT-4o-mini\n\n3. âœï¸ Blog Generator Agent\n   - Traditional Chinese blog creation\n   - Content optimization for Taiwan market\n   - Model: Claude-3-5-sonnet\n\n4. ğŸ¨ Image Context Analyzer\n   - Visual content generation\n   - Blog image enhancement\n   - Model: GPT-4o-mini\n\nğŸ’° Cost Optimization:\n- GPT-4o only for strategic decisions\n- Mini models for execution tasks\n- Parallel processing pipeline\n\nğŸ¯ Channel: UC0lbAQVpenvfA2QqzsRtL_g\nğŸ—“ï¸ Schedule: Daily at 9:00 AM\n=======================================",
        "color": 3,
        "width": 800,
        "height": 800
      },
      "id": "header-note",
      "name": "Pipeline Overview",
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [-400, -600]
    },
    {
      "parameters": {
        "triggerTimes": {
          "item": [{
            "mode": "custom",
            "cronExpression": "0 9 * * *"
          }]
        }
      },
      "id": "cron-trigger",
      "name": "Daily Cron Trigger",
      "type": "n8n-nodes-base.cron",
      "typeVersion": 1,
      "position": [0, 0]
    },
    {
      "parameters": {
        "keepOnlySet": true,
        "values": {
          "string": [
            {
              "name": "channelId",
              "value": "UC0lbAQVpenvfA2QqzsRtL_g"
            },
            {
              "name": "targetChannel",
              "value": "äºåº­çš“"
            }
          ]
        },
        "options": {}
      },
      "id": "setup-channel",
      "name": "Set Channel & Config",
      "type": "n8n-nodes-base.set",
      "typeVersion": 3,
      "position": [400, 0]
    },
    {
      "parameters": {
        "options": {}
      },
      "id": "cco-agent",
      "name": "ğŸ¤ CCO Agent",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 2,
      "position": [800, 0]
    },
    {
      "parameters": {
        "description": "You are the Chief Content Officer. Coordinate the YouTube to Blog pipeline by analyzing channel content and delegating to specialized agents for transcript extraction, blog generation, and visual enhancement."
      },
      "id": "cco-think",
      "name": "ğŸ¤” Strategy Think",
      "type": "@n8n/n8n-nodes-langchain.toolThink",
      "typeVersion": 1,
      "position": [1200, -400]
    },
    {
      "parameters": {
        "model": {
          "__rl": true,
          "mode": "list",
          "value": "gpt-4o"
        },
        "options": {}
      },
      "id": "cco-model",
      "name": "ğŸ¯ CCO Model (GPT-4o)",
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1,
      "position": [400, -300]
    },
    {
      "parameters": {
        "text": "{{ $fromAI('coordination_prompt', ``, 'string') }}",
        "options": {},
        "toolDescription": "Call this specialist agent to extract transcripts from YouTube videos and store them in PostgreSQL database"
      },
      "id": "transcript-agent",
      "name": "ğŸ“ Transcript Extractor",
      "type": "@n8n/n8n-nodes-langchain.agentTool",
      "typeVersion": 2,
      "position": [1600, -600]
    },
    {
      "parameters": {
        "text": "{{ $fromAI('blog_prompt', ``, 'string') }}",
        "options": {},
        "toolDescription": "Call this specialist agent to generate Traditional Chinese financial blog posts from extracted transcripts"
      },
      "id": "blog-agent",
      "name": "âœï¸ Blog Generator",
      "type": "@n8n/n8n-nodes-langchain.agentTool",
      "typeVersion": 2,
      "position": [1600, 0]
    },
    {
      "parameters": {
        "text": "{{ $fromAI('image_prompt', ``, 'string') }}",
        "options": {},
        "toolDescription": "Call this specialist agent to analyze blog content and generate contextual images for enhanced visual appeal"
      },
      "id": "image-agent",
      "name": "ğŸ¨ Image Analyzer",
      "type": "@n8n/n8n-nodes-langchain.agentTool",
      "typeVersion": 2,
      "position": [1600, 400]
    },
    {
      "parameters": {
        "operation": "executeQuery",
        "query": "SELECT * FROM blog WHERE video_id = '{{$json.video_id}}'",
        "options": {
          "retryOnFail": true,
          "onError": "continueRegularOutput"
        }
      },
      "id": "check-exists",
      "name": "ğŸ” Check Transcript Exists",
      "type": "n8n-nodes-base.postgres",
      "typeVersion": 2,
      "position": [2000, -800]
    },
    {
      "parameters": {
        "operation": "executeQuery",
        "query": "SELECT * FROM blog WHERE created_at >= NOW() - INTERVAL '1 day' ORDER BY created_at DESC LIMIT 1",
        "options": {
          "retryOnFail": true,
          "onError": "continueRegularOutput"
        }
      },
      "id": "get-latest",
      "name": "ğŸ“‹ Get Latest Transcript",
      "type": "n8n-nodes-base.postgres",
      "typeVersion": 2,
      "position": [2000, -400]
    },
    {
      "parameters": {
        "operation": "insert",
        "schema": "public",
        "table": "blog",
        "columns": {
          "mappingMode": "autoMapInputData",
          "value": null
        },
        "options": {
          "retryOnFail": true,
          "onError": "continueRegularOutput"
        }
      },
      "id": "store-transcript",
      "name": "ğŸ’¾ Store Transcript",
      "type": "n8n-nodes-base.postgres",
      "typeVersion": 2,
      "position": [2000, -600]
    },
    {
      "parameters": {
        "resource": "channel",
        "operation": "getAll",
        "part": ["snippet"],
        "fields": "snippet,contentDetails,status",
        "filters": {
          "id": "{{ $json.channelId }}"
        },
        "options": {
          "onError": "continueRegularOutput"
        }
      },
      "id": "get-channel",
      "name": "ğŸ¢ Get Channel Info",
      "type": "n8n-nodes-base.youTube",
      "typeVersion": 1,
      "position": [2400, -700]
    },
    {
      "parameters": {
        "resource": "playlistItem",
        "operation": "getAll",
        "part": ["snippet"],
        "fields": "snippet,contentDetails,status",
        "playlistId": "UU0lbAQVpenvfA2QqzsRtL_g",
        "limit": 1,
        "options": {
          "onError": "continueRegularOutput"
        }
      },
      "id": "get-video",
      "name": "ğŸ“¹ Get Latest Video",
      "type": "n8n-nodes-base.youTube",
      "typeVersion": 1,
      "position": [2400, -500]
    },
    {
      "parameters": {
        "model": {
          "__rl": true,
          "mode": "list",
          "value": "gpt-4o-mini"
        },
        "options": {}
      },
      "id": "transcript-model",
      "name": "ğŸ” Extract Model (GPT-4o-mini)",
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1,
      "position": [1200, -600]
    },
    {
      "parameters": {
        "model": {
          "__rl": true,
          "mode": "list",
          "value": "claude-3-5-sonnet"
        },
        "options": {}
      },
      "id": "blog-model",
      "name": "ğŸ“ Blog Model (Claude-3.5)",
      "type": "@n8n/n8n-nodes-langchain.lmChatAnthropic",
      "typeVersion": 1,
      "position": [1200, 0]
    },
    {
      "parameters": {
        "model": {
          "__rl": true,
          "mode": "list",
          "value": "gpt-4o-mini"
        },
        "options": {}
      },
      "id": "image-model",
      "name": "ğŸ¨ Image Model (GPT-4o-mini)",
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1,
      "position": [1200, 400]
    },
    {
      "parameters": {
        "resource": "image",
        "operation": "create",
        "prompt": "{{ $json.imagePrompt }}",
        "additionalFields": {
          "n": 1,
          "size": "1024x1024",
          "responseFormat": "url"
        },
        "options": {
          "retryOnFail": true,
          "onError": "continueRegularOutput"
        }
      },
      "id": "generate-image",
      "name": "ğŸ–¼ï¸ Generate Images (DALL-E)",
      "type": "n8n-nodes-base.openAi",
      "typeVersion": 1,
      "position": [2000, 600]
    },
    {
      "parameters": {
        "source": "adminApi",
        "resource": "post",
        "operation": "create",
        "title": "{{ $json.title }}",
        "html": "{{ $json.content }}",
        "additionalFields": {
          "status": "published",
          "tags": ["financial-education", "traditional-chinese", "taiwan-market"]
        },
        "options": {
          "onError": "continueRegularOutput"
        }
      },
      "id": "publish-blog",
      "name": "ğŸš€ Publish to Ghost",
      "type": "n8n-nodes-base.ghost",
      "typeVersion": 1,
      "position": [2400, 400]
    },
    {
      "parameters": {
        "content": "## TRANSCRIPT AGENT TOOLS\n\n**ğŸ” Video Analysis Tools:**\n- Get YouTube Channel Info\n- Get Latest Uploads\n- Check Existing Transcripts\n- Store New Transcripts\n\n**ğŸ“Š Database Operations:**\n- PostgreSQL queries\n- Duplicate detection\n- Batch processing\n\n**â— Agent Workflow:**\n1. Check if transcript already exists\n2. Extract new transcript if missing\n3. Store in PostgreSQL with metadata\n4. Return complete transcript data",
        "color": 1,
        "width": 400,
        "height": 300
      },
      "id": "transcript-note",
      "name": "Transcript Tools",
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [2400, -800]
    },
    {
      "parameters": {
        "content": "## BLOG GENERATION PIPELINE\n\n**âœï¸ Content Creation:**\n- Traditional Chinese financial blogs\n- SEO optimization\n- Taiwan market focus\n\n**ğŸ“‹ Structure:**\n1. Market impact analysis\n2. Beginner-friendly explanations\n3. Actionable insights\n4. Ghost CMS formatting\n\n**ğŸ¯ Output:**\n- Ready-to-publish blog posts\n- Structured for Taiwan readers\n- Financial education focused",
        "color": 2,
        "width": 400,
        "height": 300
      },
      "id": "blog-note",
      "name": "Blog Generation Notes",
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [2000, -200]
    },
    {
      "parameters": {
        "content": "## VISUAL ENHANCEMENT\n\n**ğŸ¨ Image Generation:**\n- Context-aware image creation\n- Financial market visuals\n- Taiwan-specific imagery\n\n**ğŸ–¼ï¸ Technical Specs:**\n- 1024x1024 resolution\n- AI-powered contextual analysis\n- Optimized for blog placement\n\n**ğŸ”— Integration:**\n- Automatic image insertion\n- Related to blog content\n- Professional financial visuals",
        "color": 4,
        "width": 400,
        "height": 300
      },
      "id": "image-note",
      "name": "Image Enhancement Notes",
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [2400, 800]
    },
  "connections": {
    "Daily Cron Trigger": {
      "main": [[{"node": "Set Channel & Config", "type": "main", "index": 0}]]
    },
    "Set Channel & Config": {
      "main": [[{"node": "ğŸ¤ CCO Agent", "type": "main", "index": 0}]]
    },
    "ğŸ¤ CCO Agent": {
      "ai_languageModel": [[{"node": "ğŸ¯ CCO Model (GPT-4o)", "type": "ai_languageModel", "index": 0}]],
      "ai_tool": [[{"node": "ğŸ¤” Strategy Think", "type": "ai_tool", "index": 0}]]
    },
    "ğŸ¤” Strategy Think": {
      "ai_tool": [
        [{"node": "ğŸ“ Transcript Extractor", "type": "ai_tool", "index": 0}],
        [{"node": "âœï¸ Blog Generator", "type": "ai_tool", "index": 1}],
        [{"node": "ğŸ¨ Image Analyzer", "type": "ai_tool", "index": 2}]
      ]
    },
    "ğŸ“ Transcript Extractor": {
      "ai_languageModel": [[{"node": "ğŸ” Extract Model (GPT-4o-mini)", "type": "ai_languageModel", "index": 0}]],
      "ai_tool": [
        [{"node": "ğŸ¢ Get Channel Info", "type": "ai_tool", "index": 0}],
        [{"node": "ğŸ“¹ Get Latest Video", "type": "ai_tool", "index": 1}],
        [{"node": "ğŸ” Check Transcript Exists", "type": "ai_tool", "index": 2}],
        [{"node": "ğŸ’¾ Store Transcript", "type": "ai_tool", "index": 3}]
      ]
    },
    "âœï¸ Blog Generator": {
      "ai_languageModel": [[{"node": "ğŸ“ Blog Model (Claude-3.5)", "type": "ai_languageModel", "index": 0}]],
      "ai_tool": [[{"node": "ğŸ“‹ Get Latest Transcript", "type": "ai_tool", "index": 0}]]
    },
    "ğŸ¨ Image Analyzer": {
      "ai_languageModel": [[{"node": "ğŸ¨ Image Model (GPT-4o-mini)", "type": "ai_languageModel", "index": 0}]],
      "ai_tool": [
        [{"node": "ğŸ–¼ï¸ Generate Images (DALL-E)", "type": "ai_tool", "index": 0}],
        [{"node": "ğŸš€ Publish to Ghost", "type": "ai_tool", "index": 1}]
      ]
    },
    "ğŸ” Extract Model (GPT-4o-mini)": {
      "ai_languageModel": [[{"node": "ğŸ“ Transcript Extractor", "type": "ai_languageModel", "index": 0}]]
    },
    "ğŸ“ Blog Model (Claude-3.5)": {
      "ai_languageModel": [[{"node": "âœï¸ Blog Generator", "type": "ai_languageModel", "index": 0}]]
    },
    "ğŸ¨ Image Model (GPT-4o-mini)": {
      "ai_languageModel": [[{"node": "ğŸ¨ Image Analyzer", "type": "ai_languageModel", "index": 0}]]
    },
    "ğŸ¯ CCO Model (GPT-4o)": {
      "ai_languageModel": [[{"node": "ğŸ¤ CCO Agent", "type": "ai_languageModel", "index": 0}]]
    }
  },
  "active": true,
  "settings": {
    "executionOrder": "v1"
  }
}